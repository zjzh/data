{"package_name": "foundation", "subclass_list": [], "class_description": "The Progress class provides a self-contained mechanism for progress reporting. It makes it easy for code that does work to report the progress of that work, and for user interface code to observe that progress for presentation to the user. Specifically, it can be used to show the user a progress bar and explanatory text, both updated properly as progress is made. It also allows work to be cancelled or paused by the user.\nUsing the methods of this class, your code can report the progress it\u2019s currently making toward completing some task, including progress in related subtasks. You can create instances of this class using the init(parent:userInfo:) instance method or the init(totalUnitCount:) class method. \nProgress objects have a number of properties that you can use to observe and report current progress. For instance, the totalUnitCount property represents the total number of units of work that need to be performed, and the completedUnitCount and fractionCompleted properties represents how much of that work has already been completed. The fractionCompleted property is useful for updating progress indicators or textual descriptors; to check whether progress is complete, you should test that completedUnitCount >= totalUnitCount (assuming, of course, that totalUnitCount > 0).\nThe following listing shows a sample method that reports the progress of performing some operation on a piece of data. When the progress object is first created, the value of its totalUnitCount property is set to some suitable batch size for this operation, and the completedUnitCount count is 0. Each time the loop executes and the batch of data is processed, the progress object\u2019s completedUnitCount property is incremented appropriately.\nEach of the properties of a progress object, including totalUnitCount, completedUnitCount, and fractionCompleted, support Key-Value Observing. This makes it extremely easy for a view or window controller object to observe the properties, and update UI elements such as progress indicators when the values change. It also means that there is a non-zero cost to updating the values of these properties, so you should avoid using a unit count that is too granular\u2014if you\u2019re iterating over a large data set, for example, and each operation takes only a trivial amount of time, you should divide the work into batches so you can update the unit count once per batch rather than once per iteration.\nOften, your code may need to report the overall progress of an operation that is composed of several sub-operations. To accomplish this, your code can report the progress of each sub-operation by building up a tree of progress objects.\nThe NSProgress reporting mechanism supports a loosely coupled relationship between progress objects. Sub-operations don\u2019t need to know anything about the parent progress item\u2014you can simply create new progress objects that are added as a child of another NSProgress instance. The child object is assigned a portion of the parent\u2019s pending unit count. When the children complete, the parent\u2019s completedUnitCount property is automatically increased by a predefined amount.\nYou add child progress objects to your tree implicitly or explicitly.\nAdd a child implicitly by setting a pending unit count for the parent and creating a new NSProgress instance. That new instance will be set as a child of the parent and be assigned the pending unit count. \nAs an example, consider that you are tracking the progress of code downloading and copying files on disk. You could use a single progress object to track the entire task, but it\u2019s easier to manage each subtask using a separate progress object. You start by creating an overall parent progress object with a suitable total unit count, then call becomeCurrent(withPendingUnitCount:), then create your sub-task progress objects, before finally calling resignCurrent().\nThe pending unit count that you specify in the first method is divided equally among the child progress objects you create between these two method calls. Each child progress object maintains its own internal unit count, but when it completes its units (that is, the child object\u2019s completedUnitCount == totalUnitCount), the parent progress object\u2019s completedUnitCount is increased by the assigned portion of the original pending unit count.\nIn the following example, the overall parent progress has 100 units; the two child objects therefore get 50 pending units each, and keep track internally of 10 units of work each. When each child completes its 10 units, the parent\u2019s completed unit count is increased by 50.\nIf you don\u2019t create any child progress objects between the calls to becomeCurrent(withPendingUnitCount:) and resignCurrent(), the \u201cparent\u201d progress automatically updates its completedUnitCount by adding the pending units.\nAs of iOS 9.0 and OS X v10.11 you can explicitly add a child to a progress tree.\nTo add a child, call addChild(_:withPendingUnitCount:) on the parent. The value for pending unit count is the amount of the parent\u2019s  totalUnitCount consumed by the child. The child usually follows the ProgressReporting protocol.\nIn the following example, the overall parent progress has 10 units. The child progress for the download gets 8 units and tracks the download of a photo. The progress for the filter takes a lot less time and gets the remaining 2 units. When the download completes the parent\u2019s completed unit count is updated by 8. When the filter completes it is updated by the remaining 2 units.\n", "class_type": "class", "typealias": ["typealias PublishingHandler = (Progress) -> Progress.UnpublishingHandler?", "typealias UnpublishingHandler = () -> Void"], "interface_list": ["CVarArg", "Equatable", "Hashable"], "class_inherit_list": ["NSObject"], "Methods": [{"params": [{"param_name": ["parent", "parentProgressOrNil"], "param_type": "Progress", "param_description": "The parent NSProgress object, if any, to notify when reporting progress or to consult when checking for cancellation.The only valid values are [NSProgress currentProgress] or nil."}, {"param_name": ["userInfo", "userInfoOrNil"], "param_type": "[ProgressUserInfoKey", "param_description": "The user information dictionary for the progress object. May be nil."}, {"param_name": ["[ProgressUserInfoKey"], "param_type": "Any] = nil", "param_description": ""}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "init", "method_description": "Initializes a newly allocated NSProgress instance.", "method_declar": "init(parent parentProgressOrNil: Progress?, userInfo userInfoOrNil: [ProgressUserInfoKey : Any]? = nil)"}, {"params": [{"param_name": ["totalUnitCount", "unitCount"], "param_type": "Int64", "param_description": "The total number of units of work to be carried out."}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [""], "return_description": [], "return_type": ["Progres"]}, "method_name": "discreteProgress", "method_description": "Creates and returns an NSProgress instance with the specified totalUnitCount that is not part of any existing progress tree. The instance is initialized using init(parent:userInfo:) with the parent set to nil.", "method_declar": "class func discreteProgress(totalUnitCount unitCount: Int64) -> Progress"}, {"params": [{"param_name": ["parent", "parentProgressOrNil"], "param_type": "Progress", "param_description": "The parent NSProgress object, if any, to notify when reporting progress or to consult when checking for cancellation.The only valid values are [NSProgress currentProgress] or nil."}, {"param_name": ["userInfo", "userInfoOrNil"], "param_type": "[ProgressUserInfoKey", "param_description": "The user information dictionary for the progress object. May be nil."}, {"param_name": ["[ProgressUserInfoKey"], "param_type": "Any] = nil", "param_description": ""}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "init", "method_description": "Initializes a newly allocated NSProgress instance.", "method_declar": "init(parent parentProgressOrNil: Progress?, userInfo userInfoOrNil: [ProgressUserInfoKey : Any]? = nil)"}, {"params": [{"param_name": ["totalUnitCount", "unitCount"], "param_type": "Int64", "param_description": "The total number of units of work to be carried out."}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "init", "method_description": "Creates and returns an NSProgress instance, initialized using init(parent:userInfo:).", "method_declar": "init(totalUnitCount unitCount: Int64)"}, {"params": [{"param_name": ["parent", "parentProgressOrNil"], "param_type": "Progress", "param_description": "The parent NSProgress object, if any, to notify when reporting progress or to consult when checking for cancellation.The only valid values are [NSProgress currentProgress] or nil."}, {"param_name": ["userInfo", "userInfoOrNil"], "param_type": "[ProgressUserInfoKey", "param_description": "The user information dictionary for the progress object. May be nil."}, {"param_name": ["[ProgressUserInfoKey"], "param_type": "Any] = nil", "param_description": ""}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "init", "method_description": "Initializes a newly allocated NSProgress instance.", "method_declar": "init(parent parentProgressOrNil: Progress?, userInfo userInfoOrNil: [ProgressUserInfoKey : Any]? = nil)"}, {"params": [{"param_name": ["totalUnitCount", "unitCount"], "param_type": "Int64", "param_description": "The total number of units of work to be carried out."}, {"param_name": ["parent"], "param_type": "Progress", "param_description": ""}, {"param_name": ["pendingUnitCount", "portionOfParentTotalUnitCount"], "param_type": "Int64", "param_description": "The unit count for the progress object."}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "init", "method_description": "Creates and returns an NSProgress instance attached to the specified parent with the totalUnitCount set to portionOfParentTotalUnitCount.", "method_declar": "init(totalUnitCount unitCount: Int64, parent: Progress, pendingUnitCount portionOfParentTotalUnitCount: Int64)"}, {"params": [], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [""], "return_description": ["The NSProgress instance associated with the current thread, if any."], "return_type": ["Progres"]}, "method_name": "current", "method_description": "Returns the NSProgress instance, if any, associated with the current thread by a previous invocation of becomeCurrent(withPendingUnitCount:).", "method_declar": "class func current() -> Progress?"}, {"params": [{"param_name": ["withPendingUnitCount", "unitCount"], "param_type": "Int64", "param_description": "The number of units of work to be carried out by the next progress object that is initialized by invoking the init(parent:userInfo:) method in the current thread with the receiver set as the parent. This number represents the portion of work to be performed in relation to the total number of units of work to be performed by the receiver (represented by the value of the receiver\u2019s totalUnitCount property). The units of work represented by this parameter must be the same units of work that are used in the receiver\u2019s totalUnitCount property."}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "becomeCurrent", "method_description": "Sets the receiver as the current progress object of the current thread and specifies the portion of work to be performed by the next child progress object of the receiver.", "method_declar": "func becomeCurrent(withPendingUnitCount unitCount: Int64)"}, {"params": [{"param_name": ["child"], "param_type": "Progress", "param_description": "The NSProgress instance to add to the progress tree."}, {"param_name": ["withPendingUnitCount", "inUnitCount"], "param_type": "Int64", "param_description": "The number of units of work to be carried out by the new child."}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "addChild", "method_description": "Add a process object as a child of a progress tree. The inUnitCount indicates the expected work for the progress unit.", "method_declar": "func addChild(_ child: Progress, withPendingUnitCount inUnitCount: Int64)"}, {"params": [], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "resignCurrent", "method_description": "Balance the most recent previous invocation of becomeCurrent(withPendingUnitCount:) on the same thread by restoring the current progress object to what it was before becomeCurrent(withPendingUnitCount:) was invoked.", "method_declar": "func resignCurrent()"}, {"params": [], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "cancel", "method_description": "Cancel progress tracking.", "method_declar": "func cancel()"}, {"params": [], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "pause", "method_description": "Pause progress tracking.", "method_declar": "func pause()"}, {"params": [], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "resume", "method_description": "Resume progress tracking.", "method_declar": "func resume()"}, {"params": [{"param_name": ["objectOrNil"], "param_type": "Any", "param_description": "The object to set for the given key, or nil to remove an existing entry in the dictionary."}, {"param_name": ["forKey", "key"], "param_type": "ProgressUserInfoKey", "param_description": "The key to use to store the given object."}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "setUserInfoObject", "method_description": "Set a value in the userInfo dictionary.", "method_declar": "func setUserInfoObject(_ objectOrNil: Any?, forKey key: ProgressUserInfoKey)"}, {"params": [{"param_name": ["withPendingUnitCount", "unitCount"], "param_type": "Int64", "param_description": ""}, {"param_name": ["using", "work"], "param_type": "() throws -> ReturnType", "param_description": ""}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [""], "return_description": [], "return_type": ["ReturnTyp"]}, "method_name": "performAsCurrent", "method_description": "", "method_declar": "func performAsCurrent<ReturnType>(withPendingUnitCount unitCount: Int64, using work: () throws -> ReturnType) rethrows -> ReturnType"}, {"params": [], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "publish", "method_description": "", "method_declar": "func publish()"}, {"params": [], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "unpublish", "method_description": "", "method_declar": "func unpublish()"}, {"params": [{"param_name": ["forFileURL", "url"], "param_type": "URL", "param_description": ""}, {"param_name": ["withPublishingHandler", "publishingHandler"], "param_type": "@escaping Progress.PublishingHandler", "param_description": ""}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [""], "return_description": [], "return_type": ["An"]}, "method_name": "addSubscriber", "method_description": "", "method_declar": "class func addSubscriber(forFileURL url: URL, withPublishingHandler publishingHandler: @escaping Progress.PublishingHandler) -> Any"}, {"params": [{"param_name": ["subscriber"], "param_type": "Any", "param_description": ""}], "class_name": "Progress", "is_static": false, "return_value": {"return_name": [], "return_description": [], "return_type": []}, "method_name": "removeSubscriber", "method_description": "", "method_declar": "class func removeSubscriber(_ subscriber: Any)"}], "class_name": "Progress", "Vars": [{"var_description": "The total number of units of work tracked for the current progress.", "var_type": "Int64", "is_static": false, "var_name": "totalUnitCount"}, {"var_description": "The number of units of work for the current job that have already been completed.", "var_type": "Int64", "is_static": false, "var_name": "completedUnitCount"}, {"var_description": "A localized description of progress tracked by the receiver.", "var_type": "String!", "is_static": false, "var_name": "localizedDescription"}, {"var_description": "A more specific localized description of progress tracked by the receiver.", "var_type": "String!", "is_static": false, "var_name": "localizedAdditionalDescription"}, {"var_description": "The fraction of the overall work completed by this progress object, including work done by any children it may have.", "var_type": "Double", "is_static": false, "var_name": "fractionCompleted"}, {"var_description": "Indicates whether the receiver is tracking work that can be cancelled.", "var_type": "Bool", "is_static": false, "var_name": "isCancellable"}, {"var_description": "Indicates whether the receiver is tracking work that has been cancelled.", "var_type": "Bool", "is_static": false, "var_name": "isCancelled"}, {"var_description": "The block to invoke when progress is cancelled.", "var_type": "(()", "is_static": false, "var_name": "cancellationHandler"}, {"var_description": "Indicates whether the receiver is tracking work that can be paused.", "var_type": "Bool", "is_static": false, "var_name": "isPausable"}, {"var_description": "Indicates whether the receiver is tracking work that has been paused.", "var_type": "Bool", "is_static": false, "var_name": "isPaused"}, {"var_description": "The block to invoke when progress is paused.", "var_type": "(()", "is_static": false, "var_name": "pausingHandler"}, {"var_description": "The block to invoke when progress is resumed.", "var_type": "(()", "is_static": false, "var_name": "resumingHandler"}, {"var_description": "Indicates whether the tracked progress is indeterminate.", "var_type": "Bool", "is_static": false, "var_name": "isIndeterminate"}, {"var_description": "A string identifying the kind of progress being made.", "var_type": "ProgressKind", "is_static": false, "var_name": "kind"}, {"var_description": "A dictionary of arbitrary values associated with the receiver.", "var_type": "[ProgressUserInfoKey", "is_static": false, "var_name": "userInfo"}, {"var_description": "", "var_type": "TimeInterval", "is_static": false, "var_name": "estimatedTimeRemaining"}, {"var_description": "", "var_type": "Int", "is_static": false, "var_name": "fileCompletedCount"}, {"var_description": "", "var_type": "Progress.FileOperationKind", "is_static": false, "var_name": "fileOperationKind"}, {"var_description": "", "var_type": "Int", "is_static": false, "var_name": "fileTotalCount"}, {"var_description": "", "var_type": "URL", "is_static": false, "var_name": "fileURL"}, {"var_description": "", "var_type": "Bool", "is_static": false, "var_name": "isFinished"}, {"var_description": "", "var_type": "Bool", "is_static": false, "var_name": "isOld"}, {"var_description": "", "var_type": "Int", "is_static": false, "var_name": "throughput"}]}